# Collect applications bot
## Change language: [English](README.en.md)
***
Переносит ответы пользователей в гугл таблицу. Предоставляет краткую справку о компании.
## [DEMO](README.demo.md)
## Команды:
**Для удобства рекомендуется добавить данные команды в боковое меню бота, используя [BotFather](https://t.me/BotFather).**
- menu - вызывает меню

## Установка и использование:
- логирование ошибок производится в файл py_log.log
- создать и активировать виртуальное окружение (если необходимо):
```sh
python3 -m venv venv
source venv/bin/activate # for mac
source venv/Scripts/activate # for windows
```
- Установить зависимости:
```sh
pip install -r requirements.txt
```
- в файле .env указать:\
Токен телеграмм бота: **TELEBOT_TOKEN**=ТОКЕН\
ID бота: **BOT_ID**=ID (первые цифры из токена бота, до :)\
Время в минутах, через которое недозаполненная заявка отправляется в google sheets: **WAIT_TIME**=15
- получить файл c credential (параметрами для подключения):\
https://console.cloud.google.com/ \
https://www.youtube.com/watch?v=bu5wXjz2KvU - инструкция с 00:00 по 02:35\
Полученный файл сохранить в корне проекта, с именем **service_account.json**
- предоставить сервисному e-mail доступ к таблице (инструкция в видео по ссылке выше)
- задать соответствующие имена таблице и листам в google sheets, в скобках указаны имена переменных с именами таблиц в файле config.py:\
Имя таблицы - **the-inside** (SPREAD)\
Имя листа с заявками на Telegram ботов - **telegram** (TELEGRAM_SHEET)\
Имя листа с заявками на мобильные приложения - **mobile** (MOBILE_SHEET)\
Имя листа с заявками на web-приложения - **web** (WEB_SHEET)\
Имя листа с заявками на десктопные приложения - **pk** (PK_SHEET)\
Имя листа с заявками на CRM системы - **crm** (CRM_SHEET)
- запустить проект:
```sh
python3 main.py
```
## Рекомендации по использованию:
- перед активацией бота рекомендуется задать имена столбцов для удобной навигации:
    - порядок выводимой информации на листе с заявками на telegram ботов:
        1. уникальный ID заявки
        2. id пользователя в телеграмм
        3. username пользователя в телеграмм
        4. юр. лицо / физ. лицо
        5. наименование организации (если физ. лицо, автоматически ставится "-")
        6. ФИО
        7. должность (если физ. лицо, автоматически ставится "-")
        8. номер телефона
        9. e-mail
        10. сфера применения бота
        11. предполагаемое количество пользователей
        12. необходимость в дополнительных системах (Bitrix, Amo crm и т.д.)
        13. необходимость в подключении эквайринга 
        14. дополнительные вопросы ("-" при отсутствии)
        15. дата окончания заполнения заявки (время Московское utc +3)

    - порядок выводимой информации на листе с заявками на мобильные приложения:
        1. уникальный ID заявки
        2. id пользователя в телеграмм
        3. username пользователя в телеграмм
        4. юр. лицо / физ. лицо
        5. наименование организации (если физ. лицо, автоматически ставится "-")
        6. ФИО
        7. должность (если физ. лицо, автоматически ставится "-")
        8. номер телефона
        9. e-mail
        10. предполагаемое количество пользователей
        11. платформа разработки
        12. необходимость в подключении эквайринга 
        13. область применения (бизнес/игры) 
        14. дополнительные вопросы ("-" при отсутствии)
        15. дата окончания заполнения заявки (время Московское utc +3)

    - порядок выводимой информации на листе с заявками на web-приложения:
        1. уникальный ID заявки
        2. id пользователя в телеграмм
        3. username пользователя в телеграмм
        4. юр. лицо / физ. лицо
        5. наименование организации (если физ. лицо, автоматически ставится "-")
        6. ФИО
        7. должность (если физ. лицо, автоматически ставится "-")
        8. номер телефона
        9. e-mail
        10. предполагаемое количество пользователей
        11. необходимость разработки личного кабинета
        12. необходимость в подключении эквайринга 
        13. необходимость в адаптации для мобильных устройств
        14. дополнительные вопросы ("-" при отсутствии)
        15. дата окончания заполнения заявки (время Московское utc +3)

    - порядок выводимой информации на листе с заявками на десктопные приложения:
        1. уникальный ID заявки
        2. id пользователя в телеграмм
        3. username пользователя в телеграмм
        4. юр. лицо / физ. лицо
        5. наименование организации (если физ. лицо, автоматически ставится "-")
        6. ФИО
        7. должность (если физ. лицо, автоматически ставится "-")
        8. номер телефона
        9. e-mail
        10. предполагаемое количество пользователей
        11. операционная система
        12. дополнительные вопросы ("-" при отсутствии)
        13. дата окончания заполнения заявки (время Московское utc +3)

    - порядок выводимой информации на листе с заявками на crm системы:
        1. уникальный ID заявки
        2. id пользователя в телеграмм
        3. username пользователя в телеграмм
        4. юр. лицо / физ. лицо
        5. наименование организации (если физ. лицо, автоматически ставится "-")
        6. ФИО
        7. должность (если физ. лицо, автоматически ставится "-")
        8. номер телефона
        9. e-mail
        10. предполагаемое количество пользователей
        11. дополнительные вопросы ("-" при отсутствии)
        12. дата окончания заполнения заявки (время Московское utc +3)

- бот начинает заполнение с первой пустой строки (проверка ведется по столбцу A) - не оставлять это столбец пустым в верхней части таблицы
